<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historique - Jen et ses Saints</title>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;500;600;700&family=Roboto:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="historique.css">
</head>
<body>
    <div class="app-container">

        <!-- Header -->
        <header class="header">
            <a href="index.html" class="back-btn">
                <svg width="20" height="20" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/>
                </svg>
            </a>
            <div class="header-content">
                <h1 class="header-title">Historique & Stats</h1>
                <p class="header-subtitle">Jen et ses Saints</p>
            </div>
        </header>

        <!-- Onglets principaux -->
        <nav class="tabs-container">
            <button class="tab-btn active" data-tab="matchStats">Stats Matchs</button>
            <button class="tab-btn" data-tab="yearStats">Stats Ann√©e</button>
            <button class="tab-btn" data-tab="setsStats">Sets jou√©s</button>
        </nav>

        <!-- ==================== TAB 1 : Stats Matchs ==================== -->
        <main class="tab-content active" id="content-matchStats">

            <!-- Selecteur de matchs -->
            <div class="matches-container" id="matchesContainer" style="display: none;">
                <select class="match-select" id="matchSelect">
                    <option value="" disabled selected>S√©lectionner un match‚Ä¶</option>
                </select>
            </div>

            <!-- Detail match -->
            <div class="match-detail-container" id="matchDetailContainer">
                <div class="detail-header">
                    <button class="detail-close-btn" id="detailCloseBtn">‚úï</button>
                    <div class="detail-result-icon" id="detailResultIcon">üèÜ</div>
                    <div class="detail-result-label" id="detailResultLabel">Victoire</div>

                    <!-- Score sets -->
                    <div class="detail-header-score">
                        <div class="detail-header-team">
                            <div class="detail-header-team-name">Jen et ses Saints</div>
                            <div class="detail-header-team-score" id="detailHomeSets">0</div>
                        </div>
                        <div class="detail-header-sep">‚Äì</div>
                        <div class="detail-header-team">
                            <div class="detail-header-team-name" id="detailAwayName">Adversaire</div>
                            <div class="detail-header-team-score" id="detailAwaySets">0</div>
                        </div>
                    </div>

                    <!-- Detail sets chips -->
                    <div class="detail-header-sets" id="detailHeaderSets"></div>

                    <div class="detail-opponent" id="detailOpponent">vs Adversaire</div>
                    <div class="detail-meta" id="detailMeta"></div>

                    <!-- Lien YouTube -->
                    <div id="detailYoutubeLink" style="display: none;"></div>
                </div>

                <!-- Onglets sets : [Global] [S1] [S2] ... [S5] -->
                <div class="detail-section">
                    <div class="detail-set-tabs" id="detailSetTabs"></div>

                    <!-- Onglets categorie mobile : [Ser] [Rec] [Att] [Def] [Blc] -->
                    <div class="stats-category-tabs" id="statsCategoryTabs"></div>

                    <!-- Vue mobile : tableau categorie selectionnee -->
                    <div class="stats-mobile" id="statsMobileContainer"></div>

                    <!-- Vue desktop : multi-cartes horizontales -->
                    <div class="stats-desktop" id="statsDesktopContainer"></div>

                    <!-- Side Out / Break Out -->
                    <div class="sideout-section">
                        <div class="sideout-section-title">Side Out / Break Out</div>
                        <div id="sideoutContainer"></div>
                    </div>

                    <!-- Timeline des series de points -->
                    <div class="timeline-section" id="timelineSection" style="display: none;">
                        <div class="timeline-section-title">S√©ries de points</div>
                        <div id="timelineContainer"></div>
                    </div>
                </div>

                <!-- Actions -->
                <div class="detail-actions">
                    <button class="detail-action-btn export-btn" id="detailExportBtn">Exporter stats</button>
                    <span class="export-feedback" id="exportFeedback">Copi√© ‚úì</span>
                    <button class="detail-action-btn delete-btn" id="detailDeleteBtn">Supprimer ce match</button>
                </div>
            </div>

            <!-- Empty state -->
            <div class="empty-state" id="emptyStateMatchStats">
                <div class="empty-state-icon stats">
                    <svg width="32" height="32" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z"/>
                    </svg>
                </div>
                <h3 class="empty-state-title">Aucun match enregistr√©</h3>
                <p class="empty-state-desc">Les statistiques de vos matchs appara√Ætront ici une fois que vous aurez termin√© votre premier match.</p>
                <a href="nouveau-match.html" class="empty-state-action">
                    <svg width="18" height="18" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/>
                    </svg>
                    D√©marrer un match
                </a>
            </div>
        </main>

        <!-- ==================== TAB 2 : Stats Ann√©e ==================== -->
        <main class="tab-content" id="content-yearStats">
            <!-- Contenu genere dynamiquement par YearStatsView.render() -->
        </main>

        <!-- ==================== TAB 3 : Sets joues ==================== -->
        <main class="tab-content" id="content-setsStats">
            <!-- Contenu genere dynamiquement par SetsPlayedView.render() -->
        </main>

        <!-- Footer -->
        <footer class="footer">
            FSGT 4√ó4 ‚Ä¢ Saison 2025-2026
        </footer>
    </div>

    <script src="storage.js"></script>
    <script src="historique.js"></script>
</body>
</html>
